---
interface Props {
    variant?: 'default' | 'dashboard' | 'minimal';
    backLink?: { href: string; label: string };
}

const { variant = 'default', backLink } = Astro.props;
---

<header class="fixed top-0 w-full z-50 glass">
    <div class="wrapper h-16 flex items-center justify-between">
        <a href="/" class="flex items-center gap-3 group">
            <span class="font-serif text-2xl font-semibold tracking-tight text-charcoal group-hover:text-sage transition-colors">
                mise
            </span>
            {variant === 'dashboard' && (
                <span class="text-[10px] font-semibold bg-sage/15 text-sage px-2 py-0.5 rounded-full uppercase tracking-wide">
                    Kitchen
                </span>
            )}
        </a>
        
        <nav class="flex items-center gap-2">
            {variant === 'default' && !backLink && (
                <>
                    <a href="/login" class="btn-ghost text-sm hidden sm:flex">Sign in</a>
                    <a href="/dashboard/create" class="btn-primary text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12h14"/></svg>
                        New Recipe
                    </a>
                </>
            )}
            
            {(variant === 'minimal' || backLink) && (
                <a href={backLink?.href ?? '/'} class="btn-ghost text-sm flex items-center gap-1.5">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
                    {backLink?.label ?? 'Back'}
                </a>
            )}
        </nav>
    </div>
</header>
